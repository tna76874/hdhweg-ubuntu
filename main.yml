---
- hosts: localhost
  collections:
    - community.general

- name: Repair system
  hosts: localhost
  become: yes
  tags: 
    - never
    - repair
  roles:
    - repair

- name: Maintenance script
  hosts: localhost
  become: yes
  tags:
    - base
  roles:
    - base

- name: Packages to deploy as installation image
  hosts: localhost
  become: yes
  tags:
    - never
    - deploy
  roles:
    - base
    - deploy

- name: Initial setup and update routine
  hosts: localhost
  become: yes
  tags:
    - never
    - setup
  roles:
    - repair
    - base
    - setup
    - mbz
    - security

- name: Custom Setup
  hosts: localhost
  become: yes
  tags:
    - custom
    - never
  roles:
    - repair
    - base
    - setup
    - security
    - custom
    - docker
    - webcam

- name: Install Docker
  hosts: localhost
  become: yes
  tags:
    - never
    - docker
  roles:
    - docker

- name: Install Webcam Tools
  hosts: localhost
  become: yes
  tags:
    - never
    - webcam
  roles:
    - repair
    - docker
    - webcam

- name: Install mbz tool
  hosts: localhost
  become: yes
  tags: 
    - never
    - mbz
  roles:
    - mbz

- name: Deploy fritzbox tools
  hosts: localhost
  become: yes
  tags:
    - fritzbox
  roles:
    - fritzbox

- name: Enable automatic pulls from the git repository
  hosts: localhost
  become: yes
  tags:
    - never
    - au_enable
  roles:
    - autoupdate_enable

- name: Disable automatic pulls from the git repository
  hosts: localhost
  become: yes
  tags:
    - never
    - au_disable
  roles:
    - autoupdate_disable